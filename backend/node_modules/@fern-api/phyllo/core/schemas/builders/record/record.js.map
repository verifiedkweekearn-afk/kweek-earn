{
  "version": 3,
  "sources": ["../../../../src/core/schemas/builders/record/record.ts"],
  "sourcesContent": ["import { BaseSchema, Schema } from \"../../Schema\";\nimport { entries } from \"../../utils/entries\";\nimport { getSchemaUtils } from \"../schema-utils\";\n\nexport function record<RawKey extends string | number, ParsedKey extends string | number, RawValue, ParsedValue>(\n  keySchema: Schema<RawKey, ParsedKey>,\n  valueSchema: Schema<RawValue, ParsedValue>\n): Schema<Record<RawKey, RawValue>, Record<ParsedKey, ParsedValue>> {\n  const baseSchema: BaseSchema<Record<RawKey, RawValue>, Record<ParsedKey, ParsedValue>> = {\n    parse: (raw, opts) => {\n      return entries(raw).reduce(\n        (parsed, [key, value]) => {\n          parsed[keySchema.parse(key, opts)] = valueSchema.parse(value, opts);\n          return parsed;\n        },\n        // eslint-disable-next-line @typescript-eslint/prefer-reduce-type-parameter\n        {} as Record<ParsedKey, ParsedValue>\n      );\n    },\n    json: (parsed, opts) => {\n      return entries(parsed).reduce(\n        (raw, [key, value]) => {\n          raw[keySchema.json(key, opts)] = valueSchema.json(value, opts);\n          return raw;\n        },\n        // eslint-disable-next-line @typescript-eslint/prefer-reduce-type-parameter\n        {} as Record<RawKey, RawValue>\n      );\n    },\n  };\n\n  return {\n    ...baseSchema,\n    ...getSchemaUtils(baseSchema),\n  };\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,qBAAwB;AACxB,0BAA+B;AAExB,gBACL,WACA,aACkE;AAClE,QAAM,aAAmF;AAAA,IACvF,OAAO,CAAC,KAAK,SAAS;AACpB,aAAO,4BAAQ,GAAG,EAAE,OAClB,CAAC,QAAQ,CAAC,KAAK,WAAW;AACxB,eAAO,UAAU,MAAM,KAAK,IAAI,KAAK,YAAY,MAAM,OAAO,IAAI;AAClE,eAAO;AAAA,MACT,GAEA,CAAC,CACH;AAAA,IACF;AAAA,IACA,MAAM,CAAC,QAAQ,SAAS;AACtB,aAAO,4BAAQ,MAAM,EAAE,OACrB,CAAC,KAAK,CAAC,KAAK,WAAW;AACrB,YAAI,UAAU,KAAK,KAAK,IAAI,KAAK,YAAY,KAAK,OAAO,IAAI;AAC7D,eAAO;AAAA,MACT,GAEA,CAAC,CACH;AAAA,IACF;AAAA,EACF;AAEA,SAAO;AAAA,IACL,GAAG;AAAA,IACH,GAAG,wCAAe,UAAU;AAAA,EAC9B;AACF;",
  "names": []
}
